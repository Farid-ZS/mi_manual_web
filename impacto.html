<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impacto del Curso</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Librer√≠a Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Contenedor para poner las gr√°ficas una al lado de la otra */
        .graficas-flex {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .grafica-box {
            background: white;
            padding: 20px;
            border-radius: 14px;
            box-shadow: 0 0 12px rgba(0,0,0,0.1);
            width: 330px;      /* üî• m√°s peque√±o */
            height: auto;
        }

        canvas {
            width: 100% !important; 
            height: 220px !important; /* üî• m√°s peque√±o */
        }
    </style>
</head>
<body>

<!-- NAVBAR -->
<header class="navbar">
    <img src="/assets/logo.png" class="logo" alt="Logo">
    <nav>
        <a href="/index.html#inicio">Inicio</a>
        <a href="/index.html#capitulos">Cap√≠tulos</a>
        <a href="/impacto.html">Impacto</a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
    </nav>
</header>

<section class="impacto">
    <br><br>
    <h1>Impacto en los Usuarios</h1>
    <p>Visualiza c√≥mo los participantes redujeron su nivel de estr√©s a lo largo del curso.</p>

    <!-- üî• GR√ÅFICAS LADO A LADO -->
    <div class="graficas-flex">

        <!-- Gr√°fica 1 -->
        <div class="grafica-box">
            <h2 style="font-size:18px;">Promedio Antes vs Despu√©s</h2>
            <canvas id="grafPromedio"></canvas>
        </div>

        <!-- Gr√°fica 2 -->
        <div class="grafica-box">
            <h2 style="font-size:18px;">Progreso Individual</h2>
            <canvas id="grafUsuarios"></canvas>
        </div>

    </div>
</section>

<script>
/* ======================================================
   ‚ö†Ô∏è CONFIGURAR FIREBASE AQU√ç
====================================================== */

/* Datos de ejemplo (luego se reemplazan con Firebase) */
const estresInicial = [80, 75, 60, 90, 70];
const estresFinal   = [50, 40, 35, 55, 45];
const usuarios = ["Ana", "Luis", "Pedro", "Carla", "Jorge"];

/* ======================================================
   GR√ÅFICA 1 - PROMEDIO
====================================================== */
const ctx1 = document.getElementById('grafPromedio').getContext('2d');

new Chart(ctx1, {
    type: 'bar',
    data: {
        labels: ["Antes del Curso", "Despu√©s del Curso"],
        datasets: [{
            label: "Estr√©s Promedio",
            data: [
                estresInicial.reduce((a,b)=>a+b)/estresInicial.length,
                estresFinal.reduce((a,b)=>a+b)/estresFinal.length
            ],
            backgroundColor: ["#ef5350", "#66bb6a"]
        }]
    },
    options: {
        responsive: true,
        plugins: { legend: { display: false } }
    }
});

/* ======================================================
   GR√ÅFICA 2 - PROGRESO POR USUARIO
====================================================== */
const ctx2 = document.getElementById('grafUsuarios').getContext('2d');

new Chart(ctx2, {
    type: 'line',
    data: {
        labels: usuarios,
        datasets: [
            {
                label: "Estr√©s Inicial",
                data: estresInicial,
                borderColor: "#ef5350",
                fill: false
            },
            {
                label: "Estr√©s Final",
                data: estresFinal,
                borderColor: "#66bb6a",
                fill: false
            }
        ]
    },
    options: {
        responsive: true,
        tension: 0.4
    }
});
</script>

</body>
</html>
